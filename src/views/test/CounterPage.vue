<template>
    <v-container>
        <v-row class="my-4" justify="space-between" align="center">
            <v-col>
                <h2>üì¶ Ïπ¥Ïö¥ÌÑ∞</h2>
                <v-alert v-if="counterStore.error" type="error" dense>
                    {{ counterStore.error }}
                </v-alert>
                <v-btn color="primary" @click="counterStore.fetchCount" :loading="counterStore.loading">
                    Î∂àÎü¨Ïò§Í∏∞
                </v-btn>
                <v-btn color="success" @click="counterStore.increment" :loading="counterStore.loading">
                    Ï¶ùÍ∞Ä
                </v-btn>
                <v-btn color="error" @click="counterStore.decrement" :loading="counterStore.loading">
                    Í∞êÏÜå
                </v-btn>
                <h3 class="mt-4">ÌòÑÏû¨ Í∞í: {{ counterStore.count }}</h3>
            </v-col>

            <v-col>
                <h2>üßÆ Í≥ÑÏÇ∞Í∏∞ Í≤∞Í≥º</h2>
                <v-alert v-if="calculatorStore.error" type="error" dense>
                    {{ calculatorStore.error }}
                </v-alert>
                <v-btn color="info" @click="openCalc('add')">ÎçîÌïòÍ∏∞</v-btn>
                <v-btn color="warning" @click="openCalc('sub')">ÎπºÍ∏∞</v-btn>
                <h3 class="mt-4">Í≤∞Í≥º: {{ calculatorStore.result }}</h3>
            </v-col>
        </v-row>

        <!-- Í≥ÑÏÇ∞Í∏∞ Î™®Îã¨ -->
        <CalcModal v-model:show="showModal" :type="calcType" />
    </v-container>
</template>

<script setup>
import { ref } from 'vue';
import { useCounterStore } from '@/stores/counterStore';
import { useCalculatorStore } from '@/stores/calculatorStore';
import CalcModal from '@/components/calculator/CalcModal.vue';

const counterStore = useCounterStore();
const calculatorStore = useCalculatorStore();

const showModal = ref(false);
const calcType = ref('add');

const openCalc = (type) => {
    calcType.value = type;
    showModal.value = true;
};
</script>
